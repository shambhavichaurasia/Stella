<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Stella - News</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(75deg, rgb(36, 35, 37), rgb(36, 35, 37), rgb(36, 35, 37));
            color: #000000;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        h1 {
            text-align: center;
            color: #494848;
        }

        h2{
            text-align: center;
            color: #948d8d;

        }
        h1 {
            font-size: 3.5rem;
            margin-top: 50px;
            color: #fffcfc;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.4);
        }

        h2 {
            font-size: 1.8rem;
            margin-top: 10px;
            color: #948d8d;
            font-weight: 400;
        }

        /* Filter Section */
        #filter-container {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 30px;
            gap: 20px;
            padding: 0 20px;
        }
        #filter-container label {
        font-size: 18px;
        color: #b4aeae;
        font-weight: 500;
        }


        #category-filter, #filter-btn {
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 16px;
            border: 2px solid #000000;
            background-color: transparent;
            color: #92b5e5;
            font-weight: 500;
            transition: background-color 0.3s, transform 0.3s;
        }

        #category-filter:hover, #filter-btn:hover {
            background-color: #fff;
            color: #3d5771;
            cursor: pointer;
            transform: scale(1.05);
        }




        /* News Section */
     #news-container {
        display: flex;
        flex-wrap: wrap; /* Ensure wrapping for responsiveness */
        justify-content: center; /* Space evenly between items */
        padding: 20px;
        margin: 0 auto;
        height: 900px; /* Optional for limiting height */
        gap: 50px;
}

.news-item {
    width: 30%; /* Adjusted to fit 3 items per row (100% / 3 = 33.33%, reduced slightly for spacing) */
    height: 730px;
    padding: 10px 12px;
    border: 1px solid #cce7d0;
    border-radius: 25px;
    cursor: pointer;
    box-shadow: 20px 20px 30px rgba(0, 0, 0, 0.2);
    margin: 15px 0;
    transition: 0.2s ease;
    position: relative;
}


.news-item:hover {
    box-shadow: 20px 20px 30px rgba(249, 247, 247, 0.6);
}

        .news-item img {
           width: 100%;
           height: 300px;
           object-fit: cover;
           border-radius: 20px;
           transition: transform 0.3s ease;


        }

        /* .news-item img:hover {
            transform: scale(1.1);
        } */

        .news-item-content {
            padding: 20px;
        }

        .news-item h3 {
            font-size: 22px;
            margin: 0;
            color: #ffffff;
            font-weight: 600;
        }

        .news-item p {
            font-size: 16px;
            margin: 10px 0;
            color: #d8d2d2;
            line-height: 1.5;
        }

        .news-item a {
            color: #5d89c7;
            text-decoration: none;
            font-weight: bold;
            font-size: 16px;
            transition: color 0.3s ease;
        }

        .news-item a:hover {
            color: #fff;
        }

        /* Load More Button */
        #load-more-btn {
            position: fixed;
            bottom: 30px; /* Distance from the bottom */
            left: 50%;
            transform: translateX(-50%); /* Centers the button */
            display: block;
            background-color: #5d89c7;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 18px;
            transition: background-color 0.3s, transform 0.3s, box-shadow 0.3s ease;
            z-index: 999; /* Ensures it's above other content */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Added shadow */
            transform-origin: center; /* Ensures scaling happens from the center */
        }

        #load-more-btn:hover {
            background-color: #007acc;
            transform: translateX(-50%) scale(1.05); /* Ensures scaling doesn't affect positioning */
            box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            h1 {
                font-size: 2.8rem;
            }
            h2 {
                font-size: 1.4rem;
            }
            .news-item h3 {
                font-size: 20px;
            }
            .news-item p {
                font-size: 14px;
            }
        }

        @media (max-width: 480px) {
            #category-filter, #filter-btn {
                font-size: 14px;
                padding: 8px 15px;
            }
            #load-more-btn {
                font-size: 16px;
                padding: 10px 20px;
            }
        }
    </style>
</head>

<body>
 <section id="header">
    <a href="#"><img src="img/logo2.png" class="logo" alt=""></a>
    <div>
        <ul id="navbar">
            <li><a class="active" href="index.html">Home</a></li>
            <li><a href="shopeee.html">News</a></li>
            <li><a href="blog.html">Blog</a></li>
            <li><a href="apod.html">APOD</a></li>
            <li><a href="imggallery.html">Gallery</a></li>
            <!-- <li id="lg-bag"><a href="cart.html"><i class="fa fa-shopping-cart" aria-hidden="true"></i></a></li> -->
            <li id="account"><a href="login 2 stella.html"><i class="fa fa-user-circle" aria-hidden="true"></i></a></li>
            <a href="#" id="close"><i class="fa fa-times" aria-hidden="true"></i></a>
        </ul>
    </div>
    <div id="mobile">
        <a href="cart.html"><i class="fa fa-shopping-cart" aria-hidden="true"></i></a>
        <i id="bar" class="fa fa-outdent" aria-hidden="true"></i>
    </div>
</section>

<section id="page-header">
<h2>#divein</h2>
<p>get on a galactic adventure!</p>
</section>
 <h1>STELLA - Space News</h1>
    <h2>Explore the Universe</h2>

    <!-- Filter Section -->
    <div id="filter-container">
        <label for="category-filter">Filter by Topic:</label>
        <select id="category-filter">
            <option value="">Select Topic</option>
            <option value="NASA">NASA</option>
            <option value="SpaceX">SpaceX</option>
            <option value="Mars">Mars</option>
            <option value="Astronomy">Astronomy</option>
        </select>
        <button id="filter-btn">Filter News</button>
    </div>

    <!-- News Section -->
    <div id="news-container">Loading news...</div>
    <button id="load-more-btn">Load More</button>

    

    <script>
        // Set the starting point for articles to load
        let currentOffset = 0;
        const articlesPerPage = 5;
        let filterTopic = '';  // Default: No filter, show all topics

        // Function to fetch space news from the API with an optional filter
        async function fetchSpaceNews(offset = 0, filter = '') {
            const url = `https://api.spaceflightnewsapi.net/v4/articles?offset=${offset}&search=${filter}`;
            
            const response = await fetch(url);

            if (response.ok) {
                const data = await response.json();
                const newsContainer = document.getElementById("news-container");

                // If it's the first load, clear the "Loading news..." text
                if (offset === 0) {
                    newsContainer.innerHTML = "";
                }

                // Loop through the articles and display them
                data.results.forEach(article => {
                    const newsItem = document.createElement("div");
                    newsItem.classList.add("news-item");
                    newsItem.innerHTML = `
                        <img src="${article.image_url || 'https://via.placeholder.com/300'}" alt="Article Image">
                        <div class="news-item-content">
                            <h3>${article.title}</h3>
                            <p>${article.summary}</p>
                            <p>Published At: ${new Date(article.published_at).toLocaleDateString()}</p>
                            <a href="${article.url}" target="_blank">Read More</a>
                        </div>
                    `;
                    newsContainer.appendChild(newsItem);
                });

                // Update the current offset for the next load
                currentOffset += articlesPerPage;
            } else {
                document.getElementById("news-container").innerText = "Failed to load news.";
            }
        }

        // Fetch the first batch of articles when the page loads
        fetchSpaceNews(currentOffset, filterTopic);

        // Add event listener to the "Load More" button
        document.getElementById("load-more-btn").addEventListener("click", () => {
            fetchSpaceNews(currentOffset, filterTopic);
        });

        // Add event listener to the "Filter News" button
        document.getElementById("filter-btn").addEventListener("click", () => {
            // Get selected filter value
            const selectedTopic = document.getElementById("category-filter").value;

            // Update filter and reset the offset to reload filtered news from the start
            filterTopic = selectedTopic;
            currentOffset = 0; // Reset the offset to load the first batch of filtered news
            fetchSpaceNews(currentOffset, filterTopic);
        });
    </script>
</body>
</html>